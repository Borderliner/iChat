doctype html
html
  head
    title= title
    link(type='text/css', rel='stylesheet', href='/lib/Materialize/dist/css/materialize.min.css', media='screen, projection')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    link(href='/lib/custom/chat.client.stylesheet.css', rel='stylesheet')
  body

    ul#nav-mobile.side-nav
      if userObject
        li
          a(href='/signup') Sign Up
        li
          a(href='/signin') Sign In
      else
        li
          a(href='/about') About

    div.navbar-fixed
      nav.light-blue.lighten-1(role='navigation', style='z-index: 997;')
        div.nav-wrapper.container
          a#logo-container.brand-logo(href='/') iChat
          ul.right.hide-on-med-and-down
            if userObject
              li
                a(href='/signout') Logout
            else
              li
                a(href='/signup') Register
              li
                a(href='/signin') Login
          a.button-collapse(data-activates='nav-mobile', href='#')
            i.material-icons menu

    div.section
      div.container
        div.center
          h4.header.black-text
            =title
        if !userObject
          div.row
            blockquote You do not have permission to use chatrooms and chat session will not be initialized. To use iChat, you need to 
              a(href='/signup') Register
              |.
            br
            br
            div.center
              h1.header.black-text
                |Sorry!

        else
          div.row
            div.col.s12.m8.l8
              div.messageBoard.card.hoverable
                ul#messages
            div.col.m4.l4.hide-on-small-only
              div.row.center
                span#online-users.grey-text Online Users
              div.row.card.hoverable.usersBoard
                div
                  ul#userslist

          form(action='')
            div.row
              div.col.s8.m10.l10
                input#message(autocomplete='off', placeholder='Enter message here...')
              div.col.s4.m2.l2
                div.row.center
                  button.btn.btn-medium.waves-effect.waves-light.light-blue
                    |Send
                div.row.center
                  span.grey-text
                    |or press 'Enter'
            div.row
              div.col.s12.m12.l12
                span#userUsername(style='display: none;')
                  = userUsername
                span
                  |Logged in as 
                  = userUsername
                  |. 
                  a(href='/signout') Not you
                  |?

    footer.page-footer.orange
      div.container
        div.row
          div.col.l6.s12
            h5.white-text iChat = Simplicity + Elegance
            p.grey-text.text-lighten-4.
              iChat is a simple online chat webapp, created using MEAN stack, which is a combination of MongoDB, Express,
               AngularJS and NodeJS technologies, plus the beloved Socket.io. It uses Materialize for it's UI components.
          div.col.l3.s12
            h5.white-text Settings
            ul
              li
                a.white-text(href='#') None defined yet!
          div.col.l3.s12
            h5.white-text Useful Links
            ul
              li
                a.white-text(href='/signup') Registration Form
              li
                a.white-text(href='/signin') Login
              li
                a.white-text(href='/about') About iChat
                  
      div.footer-copyright
        div.container
          span Made by: 
          a.grey-text.text-lighten-4(href='mailto:psyringe@protonmail.com')
            b Psyringe


    script(type='text/javascript', src='/lib/jquery/dist/jquery.min.js')
    script(type='text/javascript', src='/lib/Materialize/dist/js/materialize.min.js')
    if userObject
      script(type='text/javascript', src='/lib/socket.io-client/socket.io.js')
    script(type='text/javascript', src='/lib/custom/chat.client.loader.js')
    //link(href='http://fonts.googleapis.com/icon?family=Material+Icons', rel='stylesheet', async)